<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø´Ø§Ù‡Ø¯Ø© - SHASHAFLIX</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { overflow-x: hidden; }
        
        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØµÙØ­Ø© */
        .watch-container { 
            display: flex; 
            flex-wrap: wrap; 
            height: calc(100vh - 70px); /* Ø§Ø±ØªÙØ§Ø¹ ÙƒØ§Ù…Ù„ Ù†Ø§Ù‚Øµ Ø§Ù„Ù†Ø§ÙØ¨Ø§Ø± */
            padding-top: 70px; 
        }
        
        /* 1. Ù‚Ø³Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (ÙŠÙ…ÙŠÙ†) */
        .main-content { 
            flex: 3; 
            background: #000; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; /* ØªÙˆØ³ÙŠØ· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ */
        }
        
        .video-wrapper { 
            position: relative; 
            width: 100%; 
            height: 100%; 
        }
        
        .video-player { 
            width: 100%; 
            height: 100%; 
            border: none; 
        }
        
        /* 2. Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (ÙŠØ³Ø§Ø±) */
        .episodes-section { 
            flex: 1; 
            background: #1f1f1f; 
            border-right: 1px solid #333; 
            min-width: 300px; 
            display: flex; 
            flex-direction: column; 
        }
        
        .season-selector { padding: 20px; background: #141414; }
        .season-selector select { width: 100%; padding: 10px; background: #333; color: white; border: none; border-radius: 5px; font-size: 16px; }
        
        .episodes-list { flex-grow: 1; overflow-y: auto; padding: 10px; }
        
        .episode-item { 
            display: flex; 
            padding: 15px; 
            margin-bottom: 5px; 
            background: #2a2a2a; 
            border-radius: 5px; 
            cursor: pointer; 
            transition: 0.2s;
            align-items: center;
        }
        
        .episode-item:hover { background: #333; }
        .episode-item.active { background: var(--primary-color); color: black; font-weight: bold; }
        
        .episode-info h4 { margin: 0; font-size: 14px; }

        /* Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 768px) {
            .watch-container { height: auto; flex-direction: column; }
            .main-content { height: 40vh; } /* Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠØ£Ø®Ø° Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© */
            .episodes-section { height: 60vh; }
        }
    </style>
</head>
<body>

    <header class="navbar">
        <div class="navbar-brand">
            <img src="logo.png" alt="SHASHAFLIX" style="height: 40px; vertical-align: middle;">
        </div>
        <div class="nav-account"><a href="index.html" class="btn btn-secondary">âœ Ø¹ÙˆØ¯Ø©</a></div>
    </header>

    <div class="watch-container">
        
        <div class="main-content">
            <div class="video-wrapper">
                <iframe id="main-player" class="video-player" src="" allow="autoplay; fullscreen" allowfullscreen></iframe>
            </div>
        </div>

        <div class="episodes-section">
            <div class="season-selector">
                <select id="season-select" onchange="changeSeason(this.value)"></select>
            </div>
            <div class="episodes-list" id="episodes-container"></div>
        </div>
    </div>

    <script>
        // ====================================================
        // ğŸŸ¢ Ù‡Ù†Ø§ ØªØ¶Ø¹ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø­Ù„Ù‚Ø§Øª (Ø±Ø§Ø¨Ø· ÙˆØ§Ø­Ø¯ Ù„ÙƒÙ„ Ø­Ù„Ù‚Ø©)
        // ====================================================
        
        const allSeries = {
            // Ù…Ø«Ø§Ù„: Ù…Ø³Ù„Ø³Ù„ Ø¨ÙˆÙƒÙˆ Ù†Ùˆ Ù‡ÙŠØ±Ùˆ
            "Boku No Hero": { 
                "1": [ // Ø§Ù„Ù…ÙˆØ³Ù… 1
                    // Ø¶Ø¹ Ø£ÙŠ Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§ (ÙŠÙˆØªÙŠÙˆØ¨ØŒ Ø³ÙŠØ±ÙØ± Ø®Ø§Ø±Ø¬ÙŠØŒ Ù…Ù„Ù Ù…Ø¨Ø§Ø´Ø±)
                    { title: "Ø§Ù„Ø­Ù„Ù‚Ø© 1", url: "https://www.youtube.com/embed/DkLjq4C_k8c" },
                    { title: "Ø§Ù„Ø­Ù„Ù‚Ø© 2", url: "https://www.youtube.com/embed/VIDEO_ID_HERE" },
                    { title: "Ø§Ù„Ø­Ù„Ù‚Ø© 3", url: "https://www.youtube.com/embed/VIDEO_ID_HERE" }
                ],
                "2": [ // Ø§Ù„Ù…ÙˆØ³Ù… 2
                    { title: "Ø§Ù„Ø­Ù„Ù‚Ø© 1", url: "https://www.youtube.com/embed/VIDEO_ID_HERE" }
                ]
            },

            // Ù…Ø«Ø§Ù„: Ù…Ø³Ù„Ø³Ù„ Ø¢Ø®Ø±
            "Breaking Bad": { 
                "1": [
                    { title: "Pilot", url: "https://example.com/embed/breakingbad_s01e01" }
                ]
            }
        };

        // ====================================================
        // ğŸ›‘ Ù„Ø§ ØªØ¹Ø¯Ù„ Ø´ÙŠØ¦Ø§Ù‹ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„
        // ====================================================

        const urlParams = new URLSearchParams(window.location.search);
        const seriesId = urlParams.get('id'); // Ø¬Ù„Ø¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
        const player = document.getElementById('main-player');
        const episodesContainer = document.getElementById('episodes-container');
        const seasonSelect = document.getElementById('season-select');

        let currentSeriesData = allSeries[seriesId];

        if (currentSeriesData) {
            // ØªØ¹Ø¨Ø¦Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø³Ù…
            const seasons = Object.keys(currentSeriesData);
            seasons.forEach(s => {
                seasonSelect.innerHTML += `<option value="${s}">Ø§Ù„Ù…ÙˆØ³Ù… ${s}</option>`;
            });
            // ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ Ù…ÙˆØ³Ù…
            changeSeason(seasons[0]);
        } else {
            episodesContainer.innerHTML = "<p style='color:white; padding:20px; text-align:center;'>Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ù„Ø³Ù„ ØºÙŠØ± Ù…Ø¶Ø§Ù ÙÙŠ Ù…Ù„Ù watch.html Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>";
        }

        function changeSeason(season) {
            episodesContainer.innerHTML = "";
            const episodes = currentSeriesData[season];
            
            episodes.forEach((ep, index) => {
                const div = document.createElement('div');
                div.className = 'episode-item';
                div.innerHTML = `<div class="episode-info"><h4>${ep.title}</h4></div>`;
                
                div.onclick = () => {
                    // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                    player.src = ep.url;
                    
                    // ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø­Ù„Ù‚Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
                    document.querySelectorAll('.episode-item').forEach(e => e.classList.remove('active'));
                    div.classList.add('active');
                };
                episodesContainer.appendChild(div);
            });

            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ù„Ù‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ³Ù…
            if(episodes.length > 0) {
                episodesContainer.children[0].click();
            }
        }
    </script>

</body>
</html>
